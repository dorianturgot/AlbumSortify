<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AlbumSortify</title>
    <link rel="icon" type="image/png" href="./favicon.ico">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Libre Franklin' rel='stylesheet'>
    <script type="module" src="src/js/main.js"></script>
    <link rel="preload" as="script" href="src/js/main.js" />
  </head>
  <body class="bodyIndex">
    <header>
      <div class="navbar navbar-dark bg-dark box-shadow">
        <div class="container d-flex justify-content-between headerBanner">
          <a href="index.html" class="navbar-brand d-flex align-items-center headerBanner">
            <h3>Album<span class="title">Sortify</span></h3>
          </a>
          <div class="">
            <button class="btn btn-danger mx-2 headerBanner" id="logoutBtn">Disconnect</button>
            <button class="btn btn-light mx-2 headerBanner" id="refreshBtn">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
                <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
              </svg>
            </button>
            <button class="btn btn-lg" id="helpBtn" data-bs-container="body" data-bs-toggle="popover" data-bs-placement="bottom" data-bs-html="true" data-bs-content="You will need to reconnect<br> every hour."><i class="far fa-question-circle"></i></button>
          </div>
        </div>
    </header>
    <div class="container py-4 px-3 mx-auto">
      <h2><span id="displayName"></span><span id="avatar"></span></h2>
    </div>
    <div class="container py-4 px-3 mx-auto">
      <h2>Your lists</h2>
      <button class="btn btn-success my-2" id="newListBtn" data-bs-toggle="modal" data-bs-target="#newListModal">Create a new list</button>
      <button class="btn my-2" id="reverseSortBtn"><i class="fas fa-sort-alpha-up"></i></button>
      <div class="container py-4 px-3 mx-auto">
        <div class="card-deck listContainer" id="lists"></div>
      </div>
    </div>
    <hr class="hr" style="width:40%; margin: auto;"/>
    <div class="container py-4 px-3 mx-auto">
      <h2>Add an album</h2>
      <input type="text" class="form-control searchbar" id="searchbar" name="searchbar" class="input" value="" placeholder="Search an album..">
      <div class="container-fluid py-2 overflowContainer invisible-scrollbar">
        <div class="d-flex flex-row flex-nowrap results invisible-scrollbar" id="results"></div>
      </div>
    </div>
    <div class="container py-4 px-3 mx-auto">
      <h2>Your last 20 saved albums<button class="btn btn-outline-secondary" id="moreSavedAlbumsBtn" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#moreSavedAlbumsModal">More</button></h2>
      <div class="container-fluid py-2 overflowContainer invisible-scrollbar">
        <div class="d-flex flex-row flex-nowrap albums thin-scrollbar" id="albums"></div>
      </div>
    </div>
    <div class="container py-4 px-3 mx-auto">
      <h2>New releases</h2>
      <div class="container-fluid py-2 overflowContainer invisible-scrollbar">
        <div class="d-flex flex-row flex-nowrap albums thin-scrollbar" id="newReleases"></div>
      </div>
    </div>
    <hr class="hr" style="width:40%; margin: auto;"/>
    <div class="container py-4 px-3 mx-auto">
      <h2>Search an artist</h2>  
      <input type="text" class="form-control searchbar input" id="searchbarArtists" name="searchbarArtists" class="input" value="" placeholder="Search an artist..">
      <div class="container-fluid py-2 overflowContainer invisible-scrollbar">
        <div class="d-flex flex-row flex-nowrap results invisible-scrollbar" id="resultsArtists"></div>
      </div>
    </div>
    <i class="fas fa-list-music"></i>
    <div class="container py-4 px-3 mx-auto">
      <h2>Your top artists</h2>  
      <div class="container-fluid py-2 overflowContainer invisible-scrollbar">
        <div class="d-flex flex-row flex-nowrap results thin-scrollbar" id="topArtists"></div>
      </div>
    </div>
    <div class="modal fade" id="moreSavedAlbumsModal" tabindex="-1" role="dialog" aria-labelledby="moreSavedAlbumsModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg"  role="document">
        <div class="modal-content" >
          <div class="modal-header">
            <h5 class="modal-title" id="moreSavedAlbumsModalLabel">Your saved albums</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body modalBackground">
            <div class="container py-4 px-3 mx-auto">
              <div class="card-deck listContainer moreAlbumContainer" id="moreSavedAlbumsList"></div>
            </div>
          </div> 
        </div>
      </div>
    </div>
    <div class="modal fade" id="topArtistsModal" tabindex="-1" role="dialog" aria-labelledby="topArtistsModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg"  role="document">
        <div class="modal-content" >
          <div class="modal-header">
            <h5 class="modal-title" id="topArtistsModalLabel">Artist's albums</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body modalBackground">
            <div class="container py-4 px-3 mx-auto">
              <div class="card-deck listContainer moreAlbumContainer" id="topArtistsModalList"></div>
            </div>
          </div> 
        </div>
      </div>
    </div>
    <div class="modal fade" id="newListModal" tabindex="-1" role="dialog" aria-labelledby="newListModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="newListModalLabel">Create a new list</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>Enter the name of your new list and choose a color.</p>
            <div class="form-group">
              <label for="newListName">List name</label>
              <input id="newListName" type="text" class="form-control" placeholder="Enter the name of your list">
            </div>
            <div class="form-group">
              <label for="colorPicker">Color</label>
              <input type="color" class="form-control form-control-color" id="colorPicker">
            </div>
          </div> 
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-success" id="confirmBtnNewList">Confirm</button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="addToListModal" tabindex="-1" role="dialog" aria-labelledby="addToListModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg"  role="document">
        <div class="modal-content" >
          <div class="modal-header">
            <h5 class="modal-title" id="addToListModalLabel">Add to a list</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body .bg-light.bg-gradient modalBackground" id="test">
          <div class="alert alert-success d-none" role="alert" id="successAlert">Album added successfully to list!</div>
          <div class="alert alert-danger d-none" role="alert" id="failedAlert">Album already in list.</div>
            <p>Select the list you want your album into.</p>
            <div class="container py-4 px-3 mx-auto">
              <div class="card-deck listContainer" id="listModal">Please wait...</div>
            </div>
          </div> 
        </div>
      </div>
    </div>
    <footer>
      <h5 class="spotifyLogoText">Made using<a href="https://spotify.com"><img src="https://storage.googleapis.com/pr-newsroom-wp/1/2018/11/Spotify_Logo_RGB_Green.png" alt="" class="spotifyLogo"></a></h5>
      <div class="text-center p-3 mt-auto">
        Â© 2023 Copyright: <a href="https://github.com/dorianturgot" class="copyright">Dorian TURGOT</a>
      </div>
    </footer>
    <script type="module" src="src/js/script.js"></script>
    <script type="module" src="src/js/modal.js"></script>
    <script type="module" src="src/js/addtolist.js" ></script>
  </body>
</html>